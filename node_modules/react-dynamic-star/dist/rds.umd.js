(function(f,p){typeof exports=="object"&&typeof module!="undefined"?p(exports,require("react")):typeof define=="function"&&define.amd?define(["exports","react"],p):(f=typeof globalThis!="undefined"?globalThis:f||self,p(f.ReactDynamicStar={},f.React))})(this,function(f,p){"use strict";function L(e){return e&&typeof e=="object"&&"default"in e?e:{default:e}}function k(e){if(e&&e.__esModule)return e;var t={__proto__:null,[Symbol.toStringTag]:"Module"};return e&&Object.keys(e).forEach(function(r){if(r!=="default"){var n=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(t,r,n.get?n:{enumerable:!0,get:function(){return e[r]}})}}),t.default=e,Object.freeze(t)}var i=k(p),q=L(p);let E=0;const z=e=>{const[t,r]=i.useState(E);return i.useEffect(()=>{r(++E)},[]),i.useMemo(()=>`${e?e+"_":""}${t}`,[e,t])},U=1,w=0,j=()=>({raw:w,percent:"0%"}),Y=()=>({raw:U,percent:"100%"}),B=e=>({raw:e,percent:e*100+"%"}),V=(e,t)=>{switch(t.type){case"ADD_STAR":return t.payload===void 0?e:[...e,...Array(t.payload).fill(j())];case"FILL_STAR":{if(t.payload===void 0)return e;const r=Math.floor(t.payload),n=Math.round(t.payload%1*10)/10,o=Math.round(n*10)/10;return e.map((s,c)=>r>=c+1?Y():t.payload===c+o?B(o):j())}case"REMOVE_STAR":return[...e.slice(0,t.payload)];default:return e}};var ce="",S={exports:{}},y={};/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var P=Object.getOwnPropertySymbols,X=Object.prototype.hasOwnProperty,G=Object.prototype.propertyIsEnumerable;function J(e){if(e==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function H(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de",Object.getOwnPropertyNames(e)[0]==="5")return!1;for(var t={},r=0;r<10;r++)t["_"+String.fromCharCode(r)]=r;var n=Object.getOwnPropertyNames(t).map(function(s){return t[s]});if(n.join("")!=="0123456789")return!1;var o={};return"abcdefghijklmnopqrst".split("").forEach(function(s){o[s]=s}),Object.keys(Object.assign({},o)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}H();/** @license React v17.0.2
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var K=q.default,T=60103;if(y.Fragment=60107,typeof Symbol=="function"&&Symbol.for){var M=Symbol.for;T=M("react.element"),y.Fragment=M("react.fragment")}var Q=K.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Z=Object.prototype.hasOwnProperty,W={key:!0,ref:!0,__self:!0,__source:!0};function x(e,t,r){var n,o={},s=null,c=null;r!==void 0&&(s=""+r),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(c=t.ref);for(n in t)Z.call(t,n)&&!W.hasOwnProperty(n)&&(o[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)o[n]===void 0&&(o[n]=t[n]);return{$$typeof:T,type:e,key:s,ref:c,props:o,_owner:Q.current}}y.jsx=x,y.jsxs=x,S.exports=y;const u=S.exports.jsx,A=S.exports.jsxs;function ee({rating:e,outlined:t,outlineWidth:r,sharpnessStar:n=2.5,totalStars:o=5,width:s=100,height:c=100,emptyStarColor:l="transparent",fullStarColor:F="#FFBC00"}){const h=z("star"),m=o<0?0:o,[d,R]=i.useReducer(V,Array(m).fill(j())),I=a=>a.raw!==w?F:l,re=(a,_,O,v,D)=>{const b=Math.PI/O,$=60,oe=O*2;let C="";for(let g=0;g<oe;g++){const N=g%2==0?D:v,se=a+Math.cos(g*b+$)*N,ae=_+Math.sin(g*b+$)*N;C+=se+","+ae+" "}return C},ne=()=>{const a=s/2,_=s/2,O=5,v=s/O,b=v*n;return re(a,_,O,v,b)};return i.useEffect(()=>{const a=m-d.length;a<0&&R({type:"REMOVE_STAR",payload:a})},[m,d.length]),i.useEffect(()=>{const a=m-d.length;a>0&&R({type:"ADD_STAR",payload:a})},[m,d.length]),i.useEffect(()=>{R({type:"FILL_STAR",payload:typeof e=="string"?parseFloat(e):e})},[e,d.length]),u("div",{className:"dynamic-star-rating","aria-label":`${e} of 5`,children:d.map((a,_)=>u("div",{className:"dynamic-star-container",children:A("svg",{className:"dynamic-star-svg",style:{fill:`url(#${h}_gradient${a.raw})`,stroke:typeof t=="string"?t:t?F:"none",strokeWidth:r!=null?r:"unset",width:s,height:c},"aria-hidden":"true",children:[u("polygon",{points:ne(),fillRule:"nonzero"}),u("defs",{children:A("linearGradient",{id:`${h}_gradient${a.raw}`,children:[u("stop",{id:"stop1",offset:a.percent,stopOpacity:"1",stopColor:I(a)}),u("stop",{id:"stop2",offset:a.percent,stopOpacity:"0",stopColor:I(a)}),u("stop",{id:"stop3",offset:a.percent,stopOpacity:"1",stopColor:l}),u("stop",{id:"stop4",offset:"100%",stopOpacity:"1",stopColor:l})]})})]})},`${h}_${_}`))})}const te=i.memo(ee);f.DynamicStar=te,Object.defineProperty(f,"__esModule",{value:!0}),f[Symbol.toStringTag]="Module"});
